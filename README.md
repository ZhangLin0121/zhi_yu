# 房间管理系统

## 概述
这是一个基于Flask的房间分配可视化系统，用于管理A4栋公寓的房间入住情况。

## 功能特点
- 📊 全景视图：一页显示所有238间房间的入住状态
- 🏢 分层视图：按楼层查看房间详情
- 🔍 搜索功能：支持房间号、租户姓名、手机号搜索
- 📱 响应式设计：支持手机端访问
- 🎨 简约高级的界面设计

## 房间布局
- **总房间数**: 238间
- **1楼**: 10间房间（101-106, 107-110，中间有2个通道）
- **2-20楼**: 每层12间房间（XX01-XX12）
- **入住率**: 63.4%（151/238间）

## 部署信息
- **服务器地址**: 47.122.68.192
- **端口**: 5001
- **访问地址**: http://47.122.68.192:5001

## 技术栈
- **后端**: Flask (Python)
- **前端**: HTML5, CSS3, JavaScript
- **数据**: JSON格式
- **样式**: 现代化简约设计

## 文件结构
```
wechat/
├── app.py                              # Flask应用主文件
├── templates/
│   └── index.html                      # 主页模板
├── static/
│   ├── css/
│   │   └── style.css                   # 样式文件
│   └── js/
│       └── app.js                      # 前端逻辑
├── rooms_data_20250704_185517.json     # 原始API数据
├── complete_rooms_layout_20250705_142227.json # 完整房间布局
├── rooms_crawler.py                    # 数据爬取脚本
├── generate_full_layout.py             # 布局生成脚本
├── requirements.txt                    # Python依赖
└── deploy.sh                          # 部署脚本

```

## 使用说明

### 启动应用
```bash
# 方式1：使用部署脚本
./deploy.sh

# 方式2：直接运行
python3 app.py
```

### 访问方式
- **电脑端**: http://47.122.68.192:5001
- **手机端**: 同样地址，自动适配移动端

### 功能使用
1. **全景视图**: 点击"全景视图"按钮查看所有房间
2. **分层视图**: 点击"分层视图"按钮按楼层查看
3. **搜索**: 在搜索框输入房间号、姓名或手机号
4. **房间详情**: 点击任意房间查看详细信息

## 房间状态说明
- 🟢 **绿色**: 单人入住
- 🟠 **橙色**: 多人合租
- ⚪ **灰色**: 空闲房间
- 🔘 **灰色通道**: 1楼通道位置（不可点击）

## 数据更新
如需更新房间数据，运行以下脚本：
```bash
# 重新爬取API数据
python3 rooms_crawler.py

# 生成完整布局
python3 generate_full_layout.py
```

## 部署状态
✅ 应用已成功部署到服务器  
✅ 5001端口正常监听  
✅ API接口正常工作  
✅ 手机端访问优化完成  

---
*部署时间: 2025-01-04*  
*总房间数: 238间*  
*当前入住率: 63.4%* 