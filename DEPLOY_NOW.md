# ğŸš€ ç«‹å³éƒ¨ç½²æŒ‡å—

## å½“å‰çŠ¶æ€
- âœ… æœ¬åœ°å¼€å‘å®Œæˆ
- âœ… ä»£ç å·²æ¨é€åˆ°GitHub
- âš ï¸ æœåŠ¡å™¨éœ€è¦æ›´æ–°ï¼ˆå½“å‰æ˜¾ç¤º0ä¸ªå·²å…¥ä½æˆ¿é—´ï¼‰

## ä¸€é”®éƒ¨ç½²å‘½ä»¤

**è¯·åœ¨æœåŠ¡å™¨ 47.122.68.192 ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š**

```bash
curl -sSL https://raw.githubusercontent.com/ZhangLin0121/zhi_yu/main/simple_deploy.sh | bash
```

## éƒ¨ç½²è¿‡ç¨‹è¯´æ˜

è¯¥å‘½ä»¤å°†è‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

1. **åœæ­¢ç°æœ‰è¿›ç¨‹**
   ```bash
   pkill -f "python3 app.py"
   ```

2. **æ›´æ–°ä»£ç **
   ```bash
   cd /opt/room-management
   git fetch origin
   git reset --hard origin/main
   ```

3. **å®‰è£…ä¾èµ–**
   ```bash
   pip3 install -r requirements.txt
   ```

4. **åˆå§‹åŒ–è®¤è¯ä¿¡æ¯**
   - è‡ªåŠ¨è®¾ç½®æœ€æ–°çš„è®¤è¯token
   - åˆ›å»ºè®¤è¯ç¼“å­˜æ–‡ä»¶

5. **å¯åŠ¨æ–°ç‰ˆæœ¬**
   ```bash
   nohup python3 app.py > app.log 2>&1 &
   ```

6. **éªŒè¯éƒ¨ç½²**
   - æµ‹è¯•APIçŠ¶æ€
   - éªŒè¯æ•°æ®è·å–
   - ç¡®è®¤è®¤è¯æœ‰æ•ˆæ€§

## é¢„æœŸç»“æœ

éƒ¨ç½²æˆåŠŸåï¼Œæ‚¨åº”è¯¥çœ‹åˆ°ï¼š

```
âœ… åº”ç”¨å¯åŠ¨æˆåŠŸ
ğŸ“Š æˆ¿é—´æ•°æ®: 238 ä¸ªæˆ¿é—´
ğŸ‰ éƒ¨ç½²å®Œæˆï¼

ğŸŒ è®¿é—®åœ°å€: http://47.122.68.192:5001
```

## æ–°åŠŸèƒ½ç‰¹æ€§

éƒ¨ç½²åï¼Œç³»ç»Ÿå°†å…·å¤‡ä»¥ä¸‹æ–°åŠŸèƒ½ï¼š

1. **è‡ªåŠ¨è®¤è¯ç®¡ç†**
   - æ¯æ¬¡é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨æ£€æŸ¥è®¤è¯çŠ¶æ€
   - æ£€æµ‹åˆ°è®¤è¯è¿‡æœŸæ—¶è‡ªåŠ¨è·å–æ–°è®¤è¯
   - 5åˆ†é’Ÿæ™ºèƒ½æ£€æŸ¥é—´éš”

2. **è®¤è¯åˆ·æ–°æŒ‰é’®**
   - é¡µé¢ä¸Šçš„ç»¿è‰²"æ›´æ–°è®¤è¯"æŒ‰é’®
   - ä¸€é”®æ‰‹åŠ¨åˆ·æ–°è®¤è¯ä¿¡æ¯
   - å®æ—¶çŠ¶æ€åé¦ˆ

3. **æ™ºèƒ½æ•°æ®åŒæ­¥**
   - è‡ªåŠ¨ç»´æŠ¤æœ€æ–°çš„å…¥ä½æ•°æ®
   - æ— éœ€æ‰‹åŠ¨å¹²é¢„
   - ç¡®ä¿é¡µé¢å§‹ç»ˆæ˜¾ç¤ºçœŸå®æ•°æ®

## éªŒè¯æ­¥éª¤

éƒ¨ç½²å®Œæˆåï¼Œè¯·éªŒè¯ï¼š

1. **è®¿é—®ä¸»é¡µ**
   ```
   http://47.122.68.192:5001
   ```

2. **æ£€æŸ¥APIçŠ¶æ€**
   ```bash
   curl http://47.122.68.192:5001/api/status
   ```
   åº”è¯¥æ˜¾ç¤º `occupied_count` > 0

3. **æµ‹è¯•è®¤è¯åˆ·æ–°**
   - ç‚¹å‡»é¡µé¢ä¸Šçš„"æ›´æ–°è®¤è¯"æŒ‰é’®
   - åº”è¯¥æ˜¾ç¤ºæˆåŠŸé€šçŸ¥

## æ•…éšœæ’é™¤

å¦‚æœéƒ¨ç½²å¤±è´¥ï¼Œè¯·æ£€æŸ¥ï¼š

1. **æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—**
   ```bash
   cd /opt/room-management
   tail -20 app.log
   ```

2. **æ£€æŸ¥è¿›ç¨‹çŠ¶æ€**
   ```bash
   ps aux | grep python3
   ```

3. **æ‰‹åŠ¨å¯åŠ¨**
   ```bash
   cd /opt/room-management
   python3 app.py
   ```

## æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
- ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
- Pythonä¾èµ–æ˜¯å¦å®‰è£…å®Œæ•´
- è®¤è¯ä¿¡æ¯æ˜¯å¦æœ‰æ•ˆ
- é˜²ç«å¢™è®¾ç½®æ˜¯å¦æ­£ç¡®

---

**éƒ¨ç½²å‘½ä»¤ï¼ˆå¤åˆ¶ç²˜è´´ï¼‰ï¼š**
```bash
curl -sSL https://raw.githubusercontent.com/ZhangLin0121/zhi_yu/main/simple_deploy.sh | bash
``` 